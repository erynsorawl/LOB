{% extends 'base.html' %} {% block title %}LOB{% endblock %}

{% block content %}
    
    <div class="d-flex justify-content-center m-3">
        <div class="bg-primary rounded">
            <h1 class = 'text-center text-white'>
                Learn Outside The Box 
            </h1>
        </div>
    </div>
    
    {% set size = 6 %}
    <table id='Tab' class="align-items-center LOBtable">
        {% for i in range(size) %}
            <tr>
                {% for j in range(size) %}
                        <td class='LOBtd' id="t{{j + (size * i)}}" onclick="colorSwitch(this)">
                            <div id="d{{j + (size * i)}}" class='tableBorder'>
                                <div id="di{{j + (size * i)}}" class='genFade hidden'></div>
                            </div></td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>

    <div style="display: flex;  justify-content: center;" class="m-3">
        <span class="bg-secondary rounded p-1 text-center text-white m-1">Guesses:</span>
        
        <input type="number" class="numberInput mt-1 mb-1 mr-2" id="cycleGuesses" name="cycleGuesses">

        <button class="btn btn-primary m-1" onclick="advancedGenerate(Math.floor(document.getElementById('cycleGuesses').value)),
        clean([0, -40, 0, 0])">Cycle</button>
    
    </div>
    

    <div style="display: flex; justify-content: center;" class="mb-3">
    <button class="btn btn-primary m-1" onclick="advancedGenerate(10)">Guess</button>
    <button class="btn btn-primary m-1" onclick="clean([0, -40, 0, 0])">Clean</button>
    
    <button class="btn btn-primary m-1" onclick="check()">Check</button>
    
    <button class="btn btn-primary m-1" onclick="cheat()">cheat</button>
    
    <button class="btn btn-primary m-1" onclick="new_puzzle()">New Puzzle</button>

    </div>
    <div class="mb-3">
        <div id='hit' class="text-center text-white">Hit x0</div>
        <div id='miss' class="text-center text-white">Miss x0</div>
        <div id='cleans' class="text-center text-white">Clean x0</div>
    </div>

    

    <div class="bg-primary center-div explain rounded text-wrap">
        <p class="text-center text-white">
            Oof, cycling those Guesses and Cleans is getting kinda tedious, isn't it? Let's fix that. <br><br>
            We'll keep the old buttons in case you prefer them, but we'll also be adding a 'Cycle' button, which will guess a certain number of times, then clean. <br>
            To the left of the 'Cycle' button, you'll be able to choose how many times it will guess befoe cleaning.<br><br>
            Keep in mind that the 'Guess' button currently guesses 10 times every click, so try to consider that when guesses per cycle. <br>
            Since this should make things a bit easier, we'll also be increasing the size of the board to compensate. Let's see how this goes! 

        </p>
    </div>

{% endblock %}

{% block javascript %}
    <script>
        const colors =['rgb(255, 255, 255)', 'rgb(0, 255, 255)']
        const cases = [[0, 0, 3, 3], [0, 10, 10, 10]]
        const acc = .2
        const borderColors = ['border-gray', 'border-yellow', 'border-red']
        const size = 6
        const closeEnough = .9
        let s = new URLSearchParams(window.location.search).get('seed')
    </script>
    <script type="text/javascript" src="/static/LOB.js"></script>
    <script>
        if (!s) {
            new_puzzle()
        }
    </script>
{% endblock %}
    </body>
</html>