{% extends 'base.html' %} {% block title %}LOB{% endblock %}

{% block content %}
<!--Sparkle animation that plays on victory-->
<!--Credit: https://gifer.com/en/XZ5V-->
<img id="sparkle-gif-right" class="sparkle sparkle-right d-none" src="/static/assets/sparkle.gif">
<img id="sparkle-gif-left" class="sparkle sparkle-left d-none" src="/static/assets/sparkle.gif">

<!--Popup text that tells you how well you did-->
<div id="win-fail" class="animate__animated row-true-center coll-center emw-8 text-4 text-center text-shadow text-green overlay d-none click-none">Well done!</div>


    <!--Level Title-->
    <div class="d-flex justify-content-center m-3 title">
        <div class="bg-dark rounded shadow-lg p-1 pb-2">
            <span class = 'text-center text-white ml-2 mr-2 text-shadow-s'>
                Learn Outside The Box{% block level %}{% endblock %}
            </span>
        </div>
    </div>

    <!--Notification that tells the player how the hit and miss function works-->
    <div id="reliability" class="bg-maroon text-white pt-3  pl-2 pr-2 rounded text-wrap shadow-lg row-1 coll-1 hidden">
        <p class="text-center text-white">
            That was a good guess!
        </p>
    </div>

    <!--Hit and miss counters-->
        <div id="info1" class="text-center row-center-a coll-0 text-1-5 boxh-4 d-block">
            {% block hitMiss %}
            {% endblock %}
        </div>

        {# generate table based on size variable #}
        <!--Game board-->
        <table class="align-items-center {% block tableSize %}boxw-24{%endblock%} row-true-center coll-center position-absolute border t-layout-fixed bg-black">
            <tbody id="lobTable">
            {% for i in range(size) %}
                <tr>
                    {% for j in range(size) %}
                            <td class='LOBtd' id="t{{j + (size * i)}}">
                                <div id="d{{j + (size * i)}}" class='tableBorder' {% block colorSwitch %}onclick{%endblock%}="colorSwitch(this, '{{j + (size * i)}}')">
                                    <div id="di{{j + (size * i)}}" class='
                                        genFade 
                                        d-none 
                                        text-center
                                        text-center-v
                                        text-dark 
                                        text-glow 
                                        animate__animated
                                        {% block di_none %}{% endblock %}'
                                        
                                    ></div>
                                    <div id = "p{{j + (size * i)}}" class="ar-1 margin-auto text-center text-center-v counter z-1 text-shadow-s d-none {%block countSize%}{%endblock%}">
                                        {% block countInner %}<span class="text-lime">0</span><span class="text-orange ml-1"></span>{% endblock %}
                                    </div>
                                </div>
                            </td>
                    {% endfor %}
                </tr>
            {% endfor %}
            <tbody>
        </table>
        <!--Accuracy counter-->
        <span id="accInfo" class="text-purple info text-1-5 text-center row-center-b coll-2 d-none">Accuracy: 0%</span>

    <!--Container for buttons-->
    <div id = "buttons" class="d-flex justify-content-center row-3 coll-center">
        {% block button0 %}
        {% endblock %}
        {% block button0_1 %}
        {% endblock %}
        {% block button1 %}
        {% endblock %}
        {% block button2 %}
        {% endblock %}
      
    </div>
{% block bubbles %}
{%endblock%}

    <!--Second container for buttons-->
    <div id = "lowerButtons" class="row-4 coll-center">
        {% block lower_button0 %}
        {% endblock %}
    </div>
{% block extra %}
{%endblock%}
    
{% endblock %}

{% block javascript %}
    {% block acc %}
    {% endblock %}
    {% block bubbleLength %}
    {% endblock %}
    {% block closeEnough %}
    {% endblock %}
    {% block checkRigor %}
    {% endblock %}
    {% block size %}
    {% endblock %}
    {% block maxGuess %}
    {%endblock%}
    {% block levelNum %}
    {% endblock %}

    <script type="text/javascript" src="/static/LOB.js"></script>
    <script>
        if (!s) {
            new_puzzle()
        }
    </script>
{% endblock %}
{% block postscript %}
{%endblock%}